@model PhoneStore_New.Models.User
@{ Layout = "~/Views/Shared/_Layout.cshtml"; }

<style>
    .profile-box {
        max-width: 700px;
        margin: 50px auto;
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    .profile-avatar {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: #eee;
        margin: 0 auto 20px;
        display: block;
        object-fit: cover;
    }

    .form-control {
        border-radius: 25px;
        padding: 20px;
        border: 1px solid #ddd;
    }

    .btn-save {
        border-radius: 25px;
        padding: 10px 40px;
        font-weight: bold;
        background: #333;
        color: white;
        border: none;
        width: 100%;
    }

        .btn-save:hover {
            background: #000;
        }
</style>

<div class="container">
    <div class="profile-box">
        <h2 class="text-center" style="margin-bottom: 30px;">@ViewBag.Title</h2>

        @if (TempData["Message"] != null)
        {<div class="alert alert-success">@TempData["Message"]</div>}

        <img src="@Url.Content(Model.AvatarUrl ?? "~/Content/images/default-user.png")" class="profile-avatar" />
        <h4 class="text-center">@Model.Username</h4>
        <p class="text-center text-muted">Thành viên từ: @Model.CreatedAt.ToString("dd/MM/yyyy")</p>
        <hr />

        @* Form này gửi dữ liệu về Collection/UpdateProfile *@
        @using (Html.BeginForm("UpdateProfile", "Collection", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            <div class="row">
                <div class="col-md-6 form-group">
                    <label>Họ</label>
                    @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control" })
                </div>
                <div class="col-md-6 form-group">
                    <label>Tên</label>
                    @Html.TextBoxFor(m => m.LastName, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                <label>Email (Không thể thay đổi)</label>
                <input type="text" value="@Model.Email" class="form-control" readonly style="background: #f9f9f9" />
            </div>
            <div class="form-group">
                <label>Số điện thoại</label>
                @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control" })
            </div>
            <div class="form-group">
                <label>Địa chỉ</label>
                @Html.TextBoxFor(m => m.Address, new { @class = "form-control" })
            </div>
            <button type="submit" class="btn btn-save">Cập nhật thông tin</button>
        }
    </div>
</div>