@model PhoneStore_New.Models.User
@{ Layout = "~/Views/Shared/_Layout.cshtml"; }

<style>
    .profile-card {
        background: #fff; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        overflow: hidden; max-width: 800px; margin: 50px auto; display: flex;
    }
    .profile-sidebar {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        width: 35%; padding: 40px 20px; color: white; text-align: center;
        display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .avatar-circle {
        width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.3);
        background-image: url('@Url.Content(Model.AvatarUrl ?? "~/Content/images/default-user.png")');
        background-size: cover; background-position: center; margin-bottom: 20px;
    }
    .profile-content { width: 65%; padding: 40px; }
    .form-group label { color: #777; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; font-weight: 600; }
    .form-control-custom {
        border: none; border-bottom: 2px solid #eee; border-radius: 0; padding: 10px 0; box-shadow: none;
    }
    .form-control-custom:focus { border-color: #764ba2; box-shadow: none; }
    .btn-update {
        background: #764ba2; color: white; border-radius: 25px; padding: 10px 40px; border: none;
        font-weight: bold; margin-top: 20px; transition: all 0.3s;
    }
    .btn-update:hover { background: #5a387e; box-shadow: 0 5px 15px rgba(118, 75, 162, 0.4); }
</style>

<div class="container">
    @if (TempData["Message"] != null)
    {<div class="alert alert-success text-center">@TempData["Message"]</div>}

    <div class="profile-card">
        <div class="profile-sidebar">
            <div class="avatar-circle"></div>
            <h3>@Model.Username</h3>
            <p>Thành viên VIP</p>
            <p style="opacity: 0.8; font-size: 13px;">Tham gia: @Model.CreatedAt.ToString("dd/MM/yyyy")</p>
        </div>
        <div class="profile-content">
            <h2 style="margin-top:0; margin-bottom: 30px; color: #333;">Hồ sơ của tôi</h2>

            @using (Html.BeginForm("UpdateProfile", "User", FormMethod.Post))
            {
                <div class="row">
                    <div class="col-md-6 form-group">
                        <label>Họ</label>
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control form-control-custom", placeholder = "Nhập họ" })
                    </div>
                    <div class="col-md-6 form-group">
                        <label>Tên</label>
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control form-control-custom", placeholder = "Nhập tên" })
                    </div>
                </div>
                <div class="form-group">
                    <label>Email (Không thể sửa)</label>
                    <input type="text" value="@Model.Email" class="form-control form-control-custom" readonly style="background: white; color: #999;" />
                </div>
                <div class="form-group">
                    <label>Số điện thoại</label>
                    @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control form-control-custom", placeholder = "Nhập số điện thoại" })
                </div>
                <div class="form-group">
                    <label>Địa chỉ giao hàng</label>
                    @Html.TextBoxFor(m => m.Address, new { @class = "form-control form-control-custom", placeholder = "Nhập địa chỉ" })
                </div>

                <button type="submit" class="btn btn-update">Lưu Thay Đổi</button>
            }
        </div>
    </div>
</div>